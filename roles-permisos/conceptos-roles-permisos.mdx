# Roles y Permisos

Oclü usa un sistema de **permisos** para controlar quién puede hacer qué en el sistema. Esto mantiene segura la información y organiza el trabajo del equipo.

---

## ¿Qué es un Permiso?

Un **permiso** es una autorización para realizar una acción específica en el sistema.

**Ejemplos**:

- "Crear pacientes"
- "Ver reportes financieros"
- "Eliminar citas"
- "Editar presupuestos"

Cada usuario tiene un conjunto de permisos según su rol en la clínica.

---

## ¿Qué es un Rol?

Un **rol** es un conjunto predefinido de permisos que se ajusta a una función laboral.

**Ejemplo**: El rol "Secretaria" incluye permisos para agendar citas, cobrar y ver pacientes, pero NO para acceder a reportes financieros completos.

---

## Roles Disponibles

###1. Super Administrador ⭐⭐⭐⭐⭐

**Quién es**: El dueño o director de la clínica

**Permisos**: **TODO**

- Control total del sistema
- Crear y eliminar usuarios
- Modificar cualquier configuración
- Acceso a toda la información
- Gestionar permisos de otros usuarios

**Responsabilidades**:

- Configuración inicial de la clínica
- Gestión del equipo
- Decisiones críticas del sistema

**Cantidad recomendada**: 1 persona (máximo 2)

---

### 2. Administrador ⭐⭐⭐⭐

**Quién es**: Gerente o encargado administrativo

**Puede**:

- ✅ Ver y gestionar pacientes
- ✅ Agendar y gestionar citas
- ✅ Registrar pagos y ver finanzas
- ✅ Ver todos los reportes
- ✅ Gestionar personal (limitado)
- ✅ Configurar categorías y plantillas

**No puede**:

- ❌ Eliminar pacientes
- ❌ Crear o eliminar usuarios
- ❌ Modificar permisos de otros
- ❌ Cambiar configuraciones críticas

**Responsabilidades**:

- Gestión diaria de la clínica
- Supervisión financiera
- Reportes y análisis
- Apoyo al personal

---

### 3. Doctor / Odontólogo ⭐⭐⭐

**Quién es**: Profesionales que atienden pacientes

**Puede**:

- ✅ Ver y crear pacientes
- ✅ Ver expediente clínico completo
- ✅ Crear y editar presupuestos
- ✅ Agregar evoluciones y tratamientos
- ✅ Generar recetas y consentimientos
- ✅ Subir y ver multimedia clínica
- ✅ Ver su propia agenda
- ✅ Ver su propia producción

**No puede**:

- ❌ Eliminar pacientes
- ❌ Ver reportes financieros completos
- ❌ Modificar configuraciones
- ❌ Acceder a información de otros doctores (según configuración)

**Responsabilidades**:

- Atención clínica de pacientes
- Registro de tratamientos
- Creación de presupuestos
- Diagnóstico y planificación

---

### 4. Secretaria / Recepcionista ⭐⭐

**Quién es**: Personal de recepción y atención al paciente

**Puede**:

- ✅ Ver y crear pacientes (datos básicos)
- ✅ Agendar, editar y cancelar citas
- ✅ Ver calendario completo
- ✅ Registrar pagos y generar recibos
- ✅ Ver balance de pacientes

**No puede**:

- ❌ Ver expediente clínico completo
- ❌ Crear o editar presupuestos
- ❌ Agregar evoluciones médicas
- ❌ Ver reportes financieros
- ❌ Acceder a multimedia clínica (fotos intraorales, radiografías)

**Responsabilidades**:

- Gestión de citas y agenda
- Atención telefónica y presencial
- Cobros y recibos
- Recordatorios de turnos

---

### 5. Auxiliar Dental ⭐

**Quién es**: Asistente del odontólogo

**Puede**:

- ✅ Ver lista de pacientes
- ✅ Ver expediente clínico (solo lectura)
- ✅ Subir fotos y archivos multimedia
- ✅ Organizar archivos multimedia
- ✅ Ver agenda (solo lectura)

**No puede**:

- ❌ Crear o editar pacientes
- ❌ Agendar citas
- ❌ Crear presupuestos
- ❌ Agregar evoluciones
- ❌ Registrar pagos
- ❌ Ver información financiera

**Responsabilidades**:

- Apoyo durante consultas
- Subir fotos y radiografías
- Organizar multimedia del paciente
- Preparación de materiales

---

## Resumen Comparativo

| Función                      | Super Admin | Admin | Doctor | Secretaria |   Auxiliar   |
| ---------------------------- | :---------: | :---: | :----: | :--------: | :----------: |
| **Crear pacientes**          |     ✅      |  ✅   |   ✅   |     ✅     |      ❌      |
| **Eliminar pacientes**       |     ✅      |  ❌   |   ❌   |     ❌     |      ❌      |
| **Ver expediente clínico**   |     ✅      |  ✅   |   ✅   |     ❌     | ✅ (lectura) |
| **Crear presupuestos**       |     ✅      |  ✅   |   ✅   |     ❌     |      ❌      |
| **Agendar citas**            |     ✅      |  ✅   |   ✅   |     ✅     |      ❌      |
| **Registrar pagos**          |     ✅      |  ✅   |   ❌   |     ✅     |      ❌      |
| **Ver reportes financieros** |     ✅      |  ✅   |   ❌   |     ❌     |      ❌      |
| **Crear usuarios**           |     ✅      |  ❌   |   ❌   |     ❌     |      ❌      |
| **Gestionar permisos**       |     ✅      |  ❌   |   ❌   |     ❌     |      ❌      |
| **Subir multimedia**         |     ✅      |  ✅   |   ✅   |     ❌     |      ✅      |

---

## Glosario de Permisos Comunes

| Permiso              | Qué Permite                    |
| -------------------- | ------------------------------ |
| `list_patients`      | Ver lista de pacientes         |
| `add_patient`        | Crear nuevo paciente           |
| `edit_patient`       | Modificar datos del paciente   |
| `delete_patient`     | Eliminar paciente (permanente) |
| `view_expedient`     | Ver historia clínica completa  |
| `add_evolution`      | Agregar evoluciones médicas    |
| `list_calendar`      | Ver el calendario de citas     |
| `add_appointment`    | Agendar turnos                 |
| `delete_appointment` | Cancelar/eliminar citas        |
| `add_budget`         | Crear presupuestos             |
| `approve_budget`     | Aprobar presupuestos           |
| `register_payment`   | Registrar cobros               |
| `see_report_sales`   | Ver reporte de ventas          |
| `see_report_debtors` | Ver pacientes deudores         |
| `list_staff`         | Ver lista de personal          |
| `manage_permissions` | Gestionar permisos de usuarios |

---
